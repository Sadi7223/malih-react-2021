{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/home/mathews/Reesby/React/NewMalihUI/emilusAntTheme-main/Emilus - React Admin Template/demo/src/views/app-views/apps/project/scrumboard/ModalForm.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect, useContext, useRef } from 'react';\nimport { Modal, Form, Input, Button, Select, DatePicker, Tag, Badge, Divider, Card, Row, Col, Menu, Dropdown, Avatar } from 'antd';\nimport { FileTextOutlined, PaperClipOutlined, EllipsisOutlined, StarOutlined, DeleteOutlined, StarFilled, CommentOutlined } from '@ant-design/icons';\nimport { modalModeTypes, AssigneeAvatar, getLabelsColor, getCover, createCommentObject } from './utils';\nimport { DATE_FORMAT_DD_MM_YYYY } from 'constants/DateConstant';\nimport { scrumboardData, memberIds, labels } from './ScrumboardData';\nimport moment from 'moment';\nimport { ScrumboardContext } from './ScrumboardContext';\nconst {\n  Option\n} = Select;\n\nconst memberTagRender = props => /*#__PURE__*/_jsxDEV(AssigneeAvatar, {\n  id: props.value,\n  size: 25\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 36,\n  columnNumber: 36\n}, this);\n\nfunction labelTagRender(props) {\n  const {\n    value\n  } = props;\n  return /*#__PURE__*/_jsxDEV(Tag, {\n    className: \"my-1\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"d-flex align-items-center\",\n      children: [/*#__PURE__*/_jsxDEV(Badge, {\n        color: getLabelsColor(value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        children: value\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 4\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 41,\n    columnNumber: 3\n  }, this);\n}\n\nconst getModalTitle = type => {\n  switch (type) {\n    case modalModeTypes(0):\n      return 'New card';\n\n    case modalModeTypes(2):\n      return 'New board';\n\n    default:\n      return;\n  }\n};\n\nconst AddCardForm = ({\n  onSubmit\n}) => {\n  return /*#__PURE__*/_jsxDEV(Form, {\n    layout: \"inline\",\n    name: \"add-card-ref\",\n    onFinish: onSubmit,\n    children: [/*#__PURE__*/_jsxDEV(Form.Item, {\n      name: \"cardTitle\",\n      label: \"Card Title\",\n      children: /*#__PURE__*/_jsxDEV(Input, {\n        autoComplete: \"off\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(Form.Item, {\n      children: /*#__PURE__*/_jsxDEV(Button, {\n        type: \"primary\",\n        htmlType: \"submit\",\n        children: \"Add\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 4\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 63,\n    columnNumber: 3\n  }, this);\n};\n\n_c = AddCardForm;\n\nconst UpdateCardForm = ({\n  onSubmit,\n  cardData,\n  listId\n}) => {\n  _s();\n\n  const context = useContext(ScrumboardContext);\n  const [attachmentsList, setAttachmentsList] = useState(cardData.attachments);\n  const [commentsList, setCommentsList] = useState(cardData.comments);\n  const [cover, setCover] = useState(cardData.cover);\n  const commentInput = useRef();\n  useEffect(() => {\n    setAttachmentsList(cardData.attachments);\n    setCommentsList(cardData.comments);\n    setCover(cardData.cover);\n  }, [cardData.attachments, cardData.comments, cardData.cover]);\n  const initialValues = {\n    name: cardData === null || cardData === void 0 ? void 0 : cardData.name,\n    members: cardData === null || cardData === void 0 ? void 0 : cardData.members,\n    dueDate: (cardData === null || cardData === void 0 ? void 0 : cardData.dueDate) ? moment(cardData.dueDate) : '',\n    labels: cardData === null || cardData === void 0 ? void 0 : cardData.labels,\n    description: cardData === null || cardData === void 0 ? void 0 : cardData.description\n  };\n\n  const onCoverChange = id => {\n    const updatedCover = getCover(id, attachmentsList);\n    updateAttachment(updatedCover);\n  };\n\n  const submitUpdate = values => {\n    let updatedValue = values;\n    updatedValue.attachments = attachmentsList;\n    updatedValue.comments = commentsList;\n    updatedValue.cover = cover;\n    updatedValue.id = cardData.id;\n    onSubmit(updatedValue);\n  };\n\n  const updateAttachment = updatedCover => {\n    const data = context.columns;\n    const updatadedCards = data[listId].map(elm => {\n      if (elm.id === cardData.id) {\n        elm.attachments = attachmentsList;\n        elm.cover = updatedCover;\n      }\n\n      return elm;\n    });\n    data[listId] = updatadedCards;\n    context.updateColumns(data);\n    context.updateOrdered(Object.keys(data));\n  };\n\n  const removeCover = () => {\n    updateAttachment('');\n  };\n\n  const submitComment = () => {\n    const message = commentInput.current.state.value;\n    const {\n      currentListId,\n      columns,\n      updateColumns,\n      updateOrdered\n    } = context;\n    const data = columns;\n    let newComment = createCommentObject();\n    newComment.message = message;\n    const updatedComment = data[currentListId].map(elm => {\n      if (elm.id === cardData.id) {\n        elm.comments = [...elm.comments, ...[newComment]];\n      }\n\n      return elm;\n    });\n    commentInput.current.state.value = '';\n    data[currentListId] = updatedComment;\n    updateColumns(data);\n    updateOrdered(Object.keys(data));\n  };\n\n  return /*#__PURE__*/_jsxDEV(Form, {\n    name: \"edit-card-ref\",\n    layout: \"vertical\",\n    onFinish: submitUpdate,\n    initialValues: initialValues,\n    children: [/*#__PURE__*/_jsxDEV(Form.Item, {\n      name: \"name\",\n      className: \"mb-0\",\n      children: /*#__PURE__*/_jsxDEV(Input, {\n        className: \"board-card-modal input\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(Form.Item, {\n      className: \"mb-3\",\n      children: /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"Board: \", /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"font-weight-semibold\",\n          children: listId\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 153,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(Form.Item, {\n      label: \"Assigned to\",\n      name: \"members\",\n      className: \"blockform-col col-3\",\n      children: /*#__PURE__*/_jsxDEV(Select, {\n        filterOption: false,\n        tagRender: memberTagRender,\n        mode: \"tags\",\n        removeIcon: null,\n        placeholder: \"None\",\n        className: \"board-card-modal select\",\n        children: memberIds.map(elm => /*#__PURE__*/_jsxDEV(Option, {\n          value: elm,\n          children: /*#__PURE__*/_jsxDEV(AssigneeAvatar, {\n            id: elm,\n            name: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 167,\n            columnNumber: 9\n          }, this)\n        }, elm, false, {\n          fileName: _jsxFileName,\n          lineNumber: 166,\n          columnNumber: 8\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(Form.Item, {\n      label: \"Due Date\",\n      name: \"dueDate\",\n      className: \"blockform-col col-3\",\n      children: /*#__PURE__*/_jsxDEV(DatePicker, {\n        placeholder: \"Due date unset\",\n        className: \"board-card-modal date-picker w-100\",\n        format: DATE_FORMAT_DD_MM_YYYY\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(Form.Item, {\n      label: \"Labels\",\n      name: \"labels\",\n      className: \"blockform-col col-3\",\n      children: /*#__PURE__*/_jsxDEV(Select, {\n        filterOption: false,\n        tagRender: labelTagRender,\n        mode: \"tags\",\n        removeIcon: null,\n        placeholder: \"None\",\n        className: \"board-card-modal select\",\n        children: labels.map(elm => /*#__PURE__*/_jsxDEV(Option, {\n          value: elm.label,\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"d-flex align-items-center\",\n            children: [/*#__PURE__*/_jsxDEV(Badge, {\n              color: getLabelsColor(elm.label)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 189,\n              columnNumber: 10\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: elm.label\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 190,\n              columnNumber: 10\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 188,\n            columnNumber: 9\n          }, this)\n        }, elm.label, false, {\n          fileName: _jsxFileName,\n          lineNumber: 187,\n          columnNumber: 8\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(Divider, {\n      className: \"mt-0\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 197,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"d-flex\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mr-3 font-size-md\",\n        children: /*#__PURE__*/_jsxDEV(FileTextOutlined, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 200,\n          columnNumber: 6\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 199,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"w-100\",\n        children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n          children: \"Description\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 203,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(Form.Item, {\n          name: \"description\",\n          children: /*#__PURE__*/_jsxDEV(Input.TextArea, {\n            className: \"board-card-modal text-area\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 205,\n            columnNumber: 7\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 204,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 202,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 198,\n      columnNumber: 4\n    }, this), (attachmentsList === null || attachmentsList === void 0 ? void 0 : attachmentsList.length) > 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"d-flex\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mr-3 font-size-md\",\n        children: /*#__PURE__*/_jsxDEV(PaperClipOutlined, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 213,\n          columnNumber: 7\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 212,\n        columnNumber: 6\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"w-100\",\n        children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n          children: \"Attachments\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 216,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(Row, {\n          gutter: 16,\n          children: attachmentsList === null || attachmentsList === void 0 ? void 0 : attachmentsList.map(elm => /*#__PURE__*/_jsxDEV(Col, {\n            sm: 24,\n            md: 8,\n            children: /*#__PURE__*/_jsxDEV(Card, {\n              bodyStyle: {\n                padding: 0\n              },\n              cover: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"p-2\",\n                children: /*#__PURE__*/_jsxDEV(\"img\", {\n                  className: \"img-fluid\",\n                  alt: \"example\",\n                  src: elm.src\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 225,\n                  columnNumber: 14\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 224,\n                columnNumber: 13\n              }, this),\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"px-2 pb-2 d-flex align-items-center justify-content-between\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n                    className: \"mb-0\",\n                    children: elm.name\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 231,\n                    columnNumber: 14\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"text-muted font-size-sm\",\n                    children: elm.size\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 232,\n                    columnNumber: 14\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 230,\n                  columnNumber: 13\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"d-flex\",\n                  children: [cover === elm.src ? /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"mr-2 text-warning font-size-md\",\n                    children: /*#__PURE__*/_jsxDEV(StarFilled, {}, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 236,\n                      columnNumber: 83\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 236,\n                    columnNumber: 35\n                  }, this) : null, /*#__PURE__*/_jsxDEV(Dropdown, {\n                    placement: \"bottomRight\",\n                    overlay: /*#__PURE__*/_jsxDEV(Menu, {\n                      children: [/*#__PURE__*/_jsxDEV(Menu.Item, {\n                        onClick: () => onCoverChange(elm.id),\n                        children: /*#__PURE__*/_jsxDEV(\"span\", {\n                          children: /*#__PURE__*/_jsxDEV(_Fragment, {\n                            children: [/*#__PURE__*/_jsxDEV(StarOutlined, {}, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 245,\n                              columnNumber: 20\n                            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                              className: \"ml-2\",\n                              children: \"Set Cover\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 246,\n                              columnNumber: 20\n                            }, this)]\n                          }, void 0, true)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 243,\n                          columnNumber: 18\n                        }, this)\n                      }, \"0\", false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 242,\n                        columnNumber: 17\n                      }, this), /*#__PURE__*/_jsxDEV(Menu.Item, {\n                        onClick: () => removeCover(),\n                        children: /*#__PURE__*/_jsxDEV(\"span\", {\n                          children: [/*#__PURE__*/_jsxDEV(DeleteOutlined, {}, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 252,\n                            columnNumber: 19\n                          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                            className: \"ml-2\",\n                            children: \"Remove\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 253,\n                            columnNumber: 19\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 251,\n                          columnNumber: 18\n                        }, this)\n                      }, \"1\", false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 250,\n                        columnNumber: 17\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 241,\n                      columnNumber: 16\n                    }, this),\n                    trigger: ['click'],\n                    children: /*#__PURE__*/_jsxDEV(\"a\", {\n                      className: \"font-size-md text-gray\",\n                      href: \"/#\",\n                      onClick: e => e.preventDefault(),\n                      children: /*#__PURE__*/_jsxDEV(EllipsisOutlined, {\n                        style: {\n                          transform: 'rotate(90deg)'\n                        }\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 260,\n                        columnNumber: 16\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 259,\n                      columnNumber: 15\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 238,\n                    columnNumber: 14\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 234,\n                  columnNumber: 13\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 229,\n                columnNumber: 12\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 221,\n              columnNumber: 11\n            }, this)\n          }, elm.id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 220,\n            columnNumber: 10\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 217,\n          columnNumber: 7\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 215,\n        columnNumber: 6\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 211,\n      columnNumber: 5\n    }, this) : null, (cardData === null || cardData === void 0 ? void 0 : cardData.comments.length) > 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"d-flex\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mr-3 font-size-md\",\n        children: /*#__PURE__*/_jsxDEV(CommentOutlined, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 279,\n          columnNumber: 7\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 278,\n        columnNumber: 6\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"w-100\",\n        children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n          className: \"mb-3\",\n          children: [\"Comments (\", commentsList.length, \")\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 282,\n          columnNumber: 7\n        }, this), commentsList.map(elm => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mb-3 d-flex\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mt-2\",\n            children: /*#__PURE__*/_jsxDEV(Avatar, {\n              src: elm.src\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 287,\n              columnNumber: 11\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 286,\n            columnNumber: 10\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"ml-2 bg-gray-lightest p-3 rounded w-100\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"d-flex align-items-center mb-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                className: \"mb-0\",\n                children: elm.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 291,\n                columnNumber: 12\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"mx-1\",\n                children: \" | \"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 292,\n                columnNumber: 12\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"font-size-sm text-dark\",\n                children: moment(elm.date).format('DD MMMM YYYY')\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 293,\n                columnNumber: 12\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 290,\n              columnNumber: 11\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"mb-0\",\n              children: elm.message\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 295,\n              columnNumber: 11\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 289,\n            columnNumber: 10\n          }, this)]\n        }, elm.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 285,\n          columnNumber: 9\n        }, this)), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mb-3 d-flex\",\n          children: [/*#__PURE__*/_jsxDEV(Avatar, {\n            src: \"/img/avatars/thumb-1.jpg\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 301,\n            columnNumber: 8\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"ml-2 bg-gray-lightest p-3 rounded w-100\",\n            children: /*#__PURE__*/_jsxDEV(Input, {\n              ref: commentInput,\n              placeholder: \"Write comment\",\n              suffix: /*#__PURE__*/_jsxDEV(\"div\", {\n                onClick: () => submitComment(),\n                className: \"cursor-pointer font-weight-semibold text-primary\",\n                children: \"Send\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 307,\n                columnNumber: 11\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 303,\n              columnNumber: 9\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 302,\n            columnNumber: 8\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 300,\n          columnNumber: 7\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 281,\n        columnNumber: 6\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 277,\n      columnNumber: 5\n    }, this) : null, /*#__PURE__*/_jsxDEV(Form.Item, {\n      className: \"text-right mb-0\",\n      children: /*#__PURE__*/_jsxDEV(Button, {\n        type: \"primary\",\n        htmlType: \"submit\",\n        children: \"Change\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 322,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 321,\n      columnNumber: 4\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 148,\n    columnNumber: 3\n  }, this);\n};\n\n_s(UpdateCardForm, \"tJeQCbURSskQSIcQ7aApBI6Q6WY=\");\n\n_c2 = UpdateCardForm;\n\nconst AddBoardForm = ({\n  onSubmit\n}) => {\n  return /*#__PURE__*/_jsxDEV(Form, {\n    layout: \"inline\",\n    name: \"add-board-ref\",\n    onFinish: onSubmit,\n    children: [/*#__PURE__*/_jsxDEV(Form.Item, {\n      name: \"boardTitle\",\n      label: \"Board Title\",\n      rules: [() => ({\n        validator(rule, value) {\n          if (scrumboardData[value]) {\n            return Promise.reject('Board already exist!');\n          }\n\n          return Promise.resolve();\n        }\n\n      })],\n      children: /*#__PURE__*/_jsxDEV(Input, {\n        autoComplete: \"off\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 344,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 331,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(Form.Item, {\n      children: /*#__PURE__*/_jsxDEV(Button, {\n        type: \"primary\",\n        htmlType: \"submit\",\n        children: \"Add\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 347,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 346,\n      columnNumber: 4\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 330,\n    columnNumber: 3\n  }, this);\n};\n\n_c3 = AddBoardForm;\n\nconst ModalForm = ({\n  visible,\n  modalMode,\n  cardData,\n  listId,\n  onClose,\n  onModalSubmit\n}) => {\n  const showClosable = modalMode === modalModeTypes(1) ? false : true;\n  const modalWidth = modalMode === modalModeTypes(1) ? 800 : 425;\n\n  const submit = (values, mode) => {\n    onModalSubmit(values, mode);\n    onClose();\n  };\n\n  return /*#__PURE__*/_jsxDEV(Modal, {\n    title: getModalTitle(modalMode),\n    visible: visible,\n    closable: showClosable,\n    footer: null,\n    width: modalWidth,\n    style: modalMode === modalModeTypes(1) ? {\n      top: 20\n    } : null,\n    destroyOnClose: true,\n    onCancel: () => onClose(),\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      style: modalMode === modalModeTypes(1) ? {\n        maxHeight: '85vh',\n        overflowY: 'auto',\n        overflowX: 'hidden'\n      } : null,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: modalMode === modalModeTypes(1) ? 'mr-2 ml-2' : null,\n        children: (() => {\n          switch (modalMode) {\n            case modalModeTypes(0):\n              return /*#__PURE__*/_jsxDEV(AddCardForm, {\n                onSubmit: values => submit(values, modalModeTypes(0))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 380,\n                columnNumber: 17\n              }, this);\n\n            case modalModeTypes(1):\n              return /*#__PURE__*/_jsxDEV(UpdateCardForm, {\n                cardData: cardData,\n                listId: listId,\n                onSubmit: values => submit(values, modalModeTypes(1))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 383,\n                columnNumber: 11\n              }, this);\n\n            case modalModeTypes(2):\n              return /*#__PURE__*/_jsxDEV(AddBoardForm, {\n                onSubmit: values => submit(values, modalModeTypes(2))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 390,\n                columnNumber: 17\n              }, this);\n\n            default:\n              return null;\n          }\n        })()\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 375,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 374,\n      columnNumber: 4\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 364,\n    columnNumber: 3\n  }, this);\n};\n\n_c4 = ModalForm;\nexport default ModalForm;\n\nvar _c, _c2, _c3, _c4;\n\n$RefreshReg$(_c, \"AddCardForm\");\n$RefreshReg$(_c2, \"UpdateCardForm\");\n$RefreshReg$(_c3, \"AddBoardForm\");\n$RefreshReg$(_c4, \"ModalForm\");","map":{"version":3,"sources":["/home/mathews/Reesby/React/NewMalihUI/emilusAntTheme-main/Emilus - React Admin Template/demo/src/views/app-views/apps/project/scrumboard/ModalForm.js"],"names":["React","useState","useEffect","useContext","useRef","Modal","Form","Input","Button","Select","DatePicker","Tag","Badge","Divider","Card","Row","Col","Menu","Dropdown","Avatar","FileTextOutlined","PaperClipOutlined","EllipsisOutlined","StarOutlined","DeleteOutlined","StarFilled","CommentOutlined","modalModeTypes","AssigneeAvatar","getLabelsColor","getCover","createCommentObject","DATE_FORMAT_DD_MM_YYYY","scrumboardData","memberIds","labels","moment","ScrumboardContext","Option","memberTagRender","props","value","labelTagRender","getModalTitle","type","AddCardForm","onSubmit","UpdateCardForm","cardData","listId","context","attachmentsList","setAttachmentsList","attachments","commentsList","setCommentsList","comments","cover","setCover","commentInput","initialValues","name","members","dueDate","description","onCoverChange","id","updatedCover","updateAttachment","submitUpdate","values","updatedValue","data","columns","updatadedCards","map","elm","updateColumns","updateOrdered","Object","keys","removeCover","submitComment","message","current","state","currentListId","newComment","updatedComment","label","length","padding","src","size","e","preventDefault","transform","date","format","AddBoardForm","validator","rule","Promise","reject","resolve","ModalForm","visible","modalMode","onClose","onModalSubmit","showClosable","modalWidth","submit","mode","top","maxHeight","overflowY","overflowX"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, useContext, useRef } from 'react'\r\nimport { \r\n\tModal, \r\n\tForm, \r\n\tInput, \r\n\tButton, \r\n\tSelect, \r\n\tDatePicker, \r\n\tTag, \r\n\tBadge, \r\n\tDivider, \r\n\tCard, \r\n\tRow, \r\n\tCol, \r\n\tMenu, \r\n\tDropdown,\r\n\tAvatar \r\n} from 'antd';\r\nimport { \r\n\tFileTextOutlined, \r\n\tPaperClipOutlined, \r\n\tEllipsisOutlined, \r\n\tStarOutlined, \r\n\tDeleteOutlined, \r\n\tStarFilled, \r\n\tCommentOutlined \r\n} from '@ant-design/icons';\r\nimport { modalModeTypes, AssigneeAvatar, getLabelsColor, getCover, createCommentObject } from './utils';\r\nimport { DATE_FORMAT_DD_MM_YYYY } from 'constants/DateConstant';\r\nimport { scrumboardData, memberIds, labels } from './ScrumboardData';\r\nimport moment from 'moment';\r\nimport { ScrumboardContext } from './ScrumboardContext'\r\n\r\nconst { Option } = Select;\r\n\r\nconst memberTagRender = (props) => <AssigneeAvatar id={props.value} size={25} />\r\n\r\nfunction labelTagRender(props) {\r\n  const { value } = props;\r\n  return (\r\n\t\t<Tag className=\"my-1\">\r\n\t\t\t<div className=\"d-flex align-items-center\">\r\n\t\t\t\t<Badge color={getLabelsColor(value)} />\r\n\t\t\t\t<span>{value}</span>\r\n\t\t\t</div>\r\n\t\t</Tag>\r\n  );\r\n}\r\n\r\nconst getModalTitle = type => {\r\n\tswitch (type) {\r\n\t\tcase modalModeTypes(0):\r\n\t\t\treturn 'New card';\r\n\t\tcase modalModeTypes(2):\r\n\t\t\treturn 'New board';\r\n\t\tdefault:\r\n\t\t\treturn;\r\n\t}\r\n} \r\n\r\nconst AddCardForm = ({onSubmit}) => {\r\n\treturn (\r\n\t\t<Form layout=\"inline\" name=\"add-card-ref\" onFinish={onSubmit}>\r\n\t\t\t<Form.Item name=\"cardTitle\" label=\"Card Title\">\r\n\t\t\t\t<Input autoComplete=\"off\" />\r\n\t\t\t</Form.Item>\r\n\t\t\t<Form.Item>\r\n\t\t\t\t<Button type=\"primary\" htmlType=\"submit\">Add</Button>\r\n\t\t\t</Form.Item>\r\n\t\t</Form>\r\n\t)\r\n}\r\n\r\nconst UpdateCardForm = ({onSubmit, cardData, listId}) => {\r\n\tconst context\t= useContext(ScrumboardContext)\r\n\r\n\tconst [attachmentsList, setAttachmentsList] = useState(cardData.attachments)\r\n\tconst [commentsList, setCommentsList] = useState(cardData.comments)\r\n\tconst [cover, setCover] = useState(cardData.cover)\r\n\r\n\tconst commentInput = useRef();\r\n\r\n\tuseEffect(() => {\r\n\t\tsetAttachmentsList(cardData.attachments);\r\n\t\tsetCommentsList(cardData.comments);\r\n\t\tsetCover(cardData.cover)\r\n\t}, [cardData.attachments, cardData.comments, cardData.cover]);\r\n\r\n\tconst initialValues = {\r\n\t\tname: cardData?.name,\r\n\t\tmembers: cardData?.members,\r\n\t\tdueDate: cardData?.dueDate ? moment(cardData.dueDate) : '',\r\n\t\tlabels: cardData?.labels,\r\n\t\tdescription: cardData?.description,\r\n\t}\r\n\r\n\tconst onCoverChange = id => {\r\n\t\tconst updatedCover = getCover(id, attachmentsList)\r\n\t\tupdateAttachment(updatedCover)\r\n\t}\r\n\r\n\tconst submitUpdate = values => {\r\n\t\tlet updatedValue = values\r\n\t\tupdatedValue.attachments = attachmentsList\r\n\t\tupdatedValue.comments = commentsList\r\n\t\tupdatedValue.cover = cover\r\n\t\tupdatedValue.id = cardData.id\r\n\t\tonSubmit(updatedValue)\r\n\t}\r\n\r\n\tconst updateAttachment = (updatedCover) => {\r\n\t\tconst data = context.columns\r\n    const updatadedCards = data[listId].map(elm => {\r\n      if(elm.id === cardData.id) {\r\n        elm.attachments = attachmentsList;\r\n        elm.cover = updatedCover\r\n      }\r\n      return elm\r\n    })\r\n\t\tdata[listId] = updatadedCards\r\n\t\tcontext.updateColumns(data)\r\n\t\tcontext.updateOrdered(Object.keys(data))\r\n\t}\r\n\r\n\tconst removeCover = () => {\r\n\t\tupdateAttachment('')\r\n\t}\r\n\r\n\tconst\tsubmitComment = () => {\r\n\t\tconst message = commentInput.current.state.value\r\n\t\tconst { currentListId, columns, updateColumns, updateOrdered } = context\r\n    const data = columns;\r\n    let newComment = createCommentObject()\r\n    newComment.message = message;\r\n    const updatedComment = data[currentListId].map(elm => {\r\n      if(elm.id === cardData.id) {\r\n        elm.comments = [...elm.comments, ...[newComment]];\r\n      }\r\n      return elm\r\n\t\t})\r\n\t\tcommentInput.current.state.value = ''\r\n\t\tdata[currentListId] = updatedComment\r\n\t\tupdateColumns(data)\r\n\t\tupdateOrdered(Object.keys(data))\r\n\t}\r\n\r\n\treturn (\r\n\t\t<Form name=\"edit-card-ref\" layout=\"vertical\" onFinish={submitUpdate} initialValues={initialValues}>\r\n\t\t\t<Form.Item name=\"name\" className=\"mb-0\">\r\n\t\t\t\t<Input className=\"board-card-modal input\"/>\r\n\t\t\t</Form.Item>\r\n\t\t\t<Form.Item className=\"mb-3\">\r\n\t\t\t\t<p>Board: <span className=\"font-weight-semibold\">{listId}</span></p>\r\n\t\t\t</Form.Item>\r\n\t\t\t<Form.Item label=\"Assigned to\" name=\"members\" className=\"blockform-col col-3\">\r\n\t\t\t\t<Select \r\n\t\t\t\t\tfilterOption={false} \r\n\t\t\t\t\ttagRender={memberTagRender} \r\n\t\t\t\t\tmode=\"tags\" \r\n\t\t\t\t\tremoveIcon={null}\r\n\t\t\t\t\tplaceholder=\"None\"\r\n\t\t\t\t\tclassName=\"board-card-modal select\"\r\n\t\t\t\t>\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tmemberIds.map(elm => (\r\n\t\t\t\t\t\t\t<Option key={elm} value={elm}>\r\n\t\t\t\t\t\t\t\t<AssigneeAvatar id={elm} name/>\r\n\t\t\t\t\t\t\t</Option>\r\n\t\t\t\t\t\t))\r\n\t\t\t\t\t}\r\n\t\t\t\t</Select>\r\n\t\t\t</Form.Item>\r\n\t\t\t<Form.Item label=\"Due Date\" name=\"dueDate\" className=\"blockform-col col-3\">\r\n\t\t\t\t<DatePicker placeholder=\"Due date unset\" className=\"board-card-modal date-picker w-100\" format={DATE_FORMAT_DD_MM_YYYY} />\r\n\t\t\t</Form.Item>\r\n\t\t\t<Form.Item label=\"Labels\" name=\"labels\" className=\"blockform-col col-3\">\r\n\t\t\t\t<Select \r\n\t\t\t\t\tfilterOption={false} \r\n\t\t\t\t\ttagRender={labelTagRender} \r\n\t\t\t\t\tmode=\"tags\" \r\n\t\t\t\t\tremoveIcon={null}\r\n\t\t\t\t\tplaceholder=\"None\"\r\n\t\t\t\t\tclassName=\"board-card-modal select\"\r\n\t\t\t\t>\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tlabels.map(elm => (\r\n\t\t\t\t\t\t\t<Option key={elm.label} value={elm.label}>\r\n\t\t\t\t\t\t\t\t<div className=\"d-flex align-items-center\">\r\n\t\t\t\t\t\t\t\t\t<Badge color={getLabelsColor(elm.label)} />\r\n\t\t\t\t\t\t\t\t\t<span>{elm.label}</span>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</Option>\r\n\t\t\t\t\t\t))\r\n\t\t\t\t\t}\r\n\t\t\t\t</Select>\r\n\t\t\t</Form.Item>\r\n\t\t\t<Divider className=\"mt-0\"/>\r\n\t\t\t<div className=\"d-flex\">\r\n\t\t\t\t<div className=\"mr-3 font-size-md\">\r\n\t\t\t\t\t<FileTextOutlined />\t\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"w-100\">\r\n\t\t\t\t\t<h4>Description</h4>\r\n\t\t\t\t\t<Form.Item name=\"description\">\r\n\t\t\t\t\t\t<Input.TextArea className=\"board-card-modal text-area\"/>\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t{\r\n\t\t\t\tattachmentsList?.length > 0? \r\n\t\t\t\t<div className=\"d-flex\">\r\n\t\t\t\t\t<div className=\"mr-3 font-size-md\">\r\n\t\t\t\t\t\t<PaperClipOutlined />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"w-100\">\r\n\t\t\t\t\t\t<h4>Attachments</h4>\r\n\t\t\t\t\t\t<Row gutter={16}>\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tattachmentsList?.map(elm => (\r\n\t\t\t\t\t\t\t\t\t<Col sm={24} md={8} key={elm.id}>\r\n\t\t\t\t\t\t\t\t\t\t<Card\r\n\t\t\t\t\t\t\t\t\t\t\tbodyStyle={{padding: 0}}\r\n\t\t\t\t\t\t\t\t\t\t\tcover={\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"p-2\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<img className=\"img-fluid\" alt=\"example\" src={elm.src} />\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"px-2 pb-2 d-flex align-items-center justify-content-between\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<h5 className=\"mb-0\">{elm.name}</h5>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"text-muted font-size-sm\">{elm.size}</span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"d-flex\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcover === elm.src ? <div className=\"mr-2 text-warning font-size-md\"><StarFilled /></div> : null\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Dropdown \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tplacement=\"bottomRight\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\toverlay={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Menu>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Menu.Item key=\"0\" onClick={() => onCoverChange(elm.id)}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<StarOutlined />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"ml-2\">Set Cover</span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Menu.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Menu.Item key=\"1\" onClick={() => removeCover()}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<DeleteOutlined />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"ml-2\">Remove</span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Menu.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Menu>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t} \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttrigger={['click']}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<a className=\"font-size-md text-gray\" href=\"/#\" onClick={e => e.preventDefault()}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<EllipsisOutlined style={{transform: 'rotate(90deg)'}}/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Dropdown>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t</Card>\r\n\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t))\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t:\r\n\t\t\t\tnull\r\n\t\t\t}\r\n\t\t\t{\r\n\t\t\t\tcardData?.comments.length > 0? \r\n\t\t\t\t<div className=\"d-flex\">\r\n\t\t\t\t\t<div className=\"mr-3 font-size-md\">\r\n\t\t\t\t\t\t<CommentOutlined />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"w-100\">\r\n\t\t\t\t\t\t<h4 className=\"mb-3\">Comments ({commentsList.length})</h4>\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tcommentsList.map(elm => \r\n\t\t\t\t\t\t\t\t<div className=\"mb-3 d-flex\" key={elm.id}>\r\n\t\t\t\t\t\t\t\t\t<div className=\"mt-2\">\r\n\t\t\t\t\t\t\t\t\t\t<Avatar src={elm.src}/>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className=\"ml-2 bg-gray-lightest p-3 rounded w-100\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"d-flex align-items-center mb-2\">\r\n\t\t\t\t\t\t\t\t\t\t\t<h4 className=\"mb-0\">{elm.name}</h4>\r\n\t\t\t\t\t\t\t\t\t\t\t<span className=\"mx-1\"> | </span>\r\n\t\t\t\t\t\t\t\t\t\t\t<span className=\"font-size-sm text-dark\">{moment(elm.date).format('DD MMMM YYYY')}</span>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<p className=\"mb-0\">{elm.message}</p>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t<div className=\"mb-3 d-flex\">\r\n\t\t\t\t\t\t\t<Avatar src=\"/img/avatars/thumb-1.jpg\"/>\r\n\t\t\t\t\t\t\t<div className=\"ml-2 bg-gray-lightest p-3 rounded w-100\">\r\n\t\t\t\t\t\t\t\t<Input\r\n\t\t\t\t\t\t\t\t\tref={commentInput}\r\n\t\t\t\t\t\t\t\t\tplaceholder=\"Write comment\"\r\n\t\t\t\t\t\t\t\t\tsuffix={\r\n\t\t\t\t\t\t\t\t\t\t<div \r\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => submitComment()} \r\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"cursor-pointer font-weight-semibold text-primary\">\r\n\t\t\t\t\t\t\t\t\t\t\tSend\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t:\r\n\t\t\t\tnull \r\n\t\t\t}\r\n\t\t\t<Form.Item className=\"text-right mb-0\">\r\n\t\t\t\t<Button type=\"primary\" htmlType=\"submit\">Change</Button>\r\n\t\t\t</Form.Item>\r\n\t\t</Form>\r\n\t)\t\r\n}\r\n\r\nconst AddBoardForm = ({onSubmit}) => {\r\n\treturn(\r\n\t\t<Form layout=\"inline\" name=\"add-board-ref\" onFinish={onSubmit}>\r\n\t\t\t<Form.Item \r\n\t\t\t\tname=\"boardTitle\" \r\n\t\t\t\tlabel=\"Board Title\"\r\n\t\t\t\trules={[() => ({\r\n\t\t\t\t\t\tvalidator(rule, value) {\r\n\t\t\t\t\t\t\tif(scrumboardData[value]) {\r\n\t\t\t\t\t\t\t\treturn Promise.reject('Board already exist!');\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\treturn Promise.resolve();\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t}),\r\n\t\t\t\t]}\r\n\t\t\t>\r\n\t\t\t\t<Input autoComplete=\"off\" />\r\n\t\t\t</Form.Item>\r\n\t\t\t<Form.Item>\r\n\t\t\t\t<Button type=\"primary\" htmlType=\"submit\">Add</Button>\r\n\t\t\t</Form.Item>\r\n\t\t</Form>\r\n\t)\r\n}\r\n\r\nconst ModalForm = ({ visible, modalMode, cardData, listId, onClose, onModalSubmit }) => {\r\n\r\n\tconst showClosable = modalMode === modalModeTypes(1) ? false : true\r\n\tconst modalWidth = modalMode === modalModeTypes(1) ? 800 : 425;\r\n\r\n\tconst submit = (values, mode) => {\r\n\t\tonModalSubmit(values, mode)\r\n\t\tonClose()\r\n\t};\r\n\r\n\treturn (\r\n\t\t<Modal\r\n\t\t\ttitle={getModalTitle(modalMode)}\r\n\t\t\tvisible={visible}\r\n\t\t\tclosable={showClosable}\r\n\t\t\tfooter={null}\r\n\t\t\twidth={modalWidth}\r\n\t\t\tstyle={modalMode === modalModeTypes(1)? {top: 20} : null}\r\n\t\t\tdestroyOnClose\r\n\t\t\tonCancel={() => onClose()}\r\n\t\t>\r\n\t\t\t<div style={modalMode === modalModeTypes(1)? {maxHeight: '85vh', overflowY: 'auto', overflowX: 'hidden'} : null}>\r\n\t\t\t\t<div className={modalMode === modalModeTypes(1)? 'mr-2 ml-2' : null}>\r\n\t\t\t\t\t{ \r\n\t\t\t\t\t\t(() => {\r\n\t\t\t\t\t\t\tswitch(modalMode) {\r\n\t\t\t\t\t\t\t\tcase modalModeTypes(0):\r\n\t\t\t\t\t\t\t\t\treturn <AddCardForm onSubmit={values => submit(values, modalModeTypes(0))}/>;\r\n\t\t\t\t\t\t\t\tcase modalModeTypes(1):\r\n\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t<UpdateCardForm \r\n\t\t\t\t\t\t\t\t\t\t\tcardData={cardData} \r\n\t\t\t\t\t\t\t\t\t\t\tlistId={listId} \r\n\t\t\t\t\t\t\t\t\t\t\tonSubmit={values => submit(values, modalModeTypes(1))}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\tcase modalModeTypes(2):\r\n\t\t\t\t\t\t\t\t\treturn <AddBoardForm onSubmit={values => submit(values, modalModeTypes(2))}/>;\r\n\t\t\t\t\t\t\t\tdefault:\r\n\t\t\t\t\t\t\t\t\treturn null;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t})()\r\n\t\t\t\t\t}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</Modal>\r\n\t)\r\n}\r\n\r\nexport default ModalForm\r\n"]},"metadata":{},"sourceType":"module"}