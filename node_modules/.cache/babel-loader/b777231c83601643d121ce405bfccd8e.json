{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/home/mathews/Reesby/React/NewMalihUI/emilusAntTheme-main/Emilus - React Admin Template/demo/src/views/app-views/apps/chat/Conversation.js\";\nimport React from 'react';\nimport ChatData from \"assets/data/chat.data.json\";\nimport { Avatar, Divider, Input, Form, Button, Menu } from 'antd';\nimport { FileOutlined, SendOutlined, PaperClipOutlined, SmileOutlined, AudioMutedOutlined, UserOutlined, DeleteOutlined } from '@ant-design/icons';\nimport { Scrollbars } from 'react-custom-scrollbars';\nimport Flex from 'components/shared-components/Flex';\nimport EllipsisDropdown from 'components/shared-components/EllipsisDropdown';\n\nconst menu = () => /*#__PURE__*/_jsxDEV(Menu, {\n  children: [/*#__PURE__*/_jsxDEV(Menu.Item, {\n    children: [/*#__PURE__*/_jsxDEV(UserOutlined, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 20,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n      children: \"User Info\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 21,\n      columnNumber: 4\n    }, this)]\n  }, \"0\", true, {\n    fileName: _jsxFileName,\n    lineNumber: 19,\n    columnNumber: 3\n  }, this), /*#__PURE__*/_jsxDEV(Menu.Item, {\n    children: [/*#__PURE__*/_jsxDEV(AudioMutedOutlined, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 24,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n      children: \"Mute Chat\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 25,\n      columnNumber: 4\n    }, this)]\n  }, \"1\", true, {\n    fileName: _jsxFileName,\n    lineNumber: 23,\n    columnNumber: 3\n  }, this), /*#__PURE__*/_jsxDEV(Menu.Divider, {}, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 27,\n    columnNumber: 3\n  }, this), /*#__PURE__*/_jsxDEV(Menu.Item, {\n    children: [/*#__PURE__*/_jsxDEV(DeleteOutlined, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n      children: \"Delete Chat\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 4\n    }, this)]\n  }, \"3\", true, {\n    fileName: _jsxFileName,\n    lineNumber: 28,\n    columnNumber: 3\n  }, this)]\n}, void 0, true, {\n  fileName: _jsxFileName,\n  lineNumber: 18,\n  columnNumber: 2\n}, this);\n\nexport class Conversation extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.formRef = /*#__PURE__*/React.createRef();\n    this.chatBodyRef = /*#__PURE__*/React.createRef();\n    this.state = {\n      info: {},\n      msgList: []\n    };\n\n    this.getConversation = currentId => {\n      const data = ChatData.filter(elm => elm.id === currentId);\n      this.setState({\n        info: data[0],\n        msgList: data[0].msg\n      });\n    };\n\n    this.getMsgType = obj => {\n      switch (obj.msgType) {\n        case 'text':\n          return /*#__PURE__*/_jsxDEV(\"span\", {\n            children: obj.text\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 12\n          }, this);\n\n        case 'image':\n          return /*#__PURE__*/_jsxDEV(\"img\", {\n            src: obj.text,\n            alt: obj.text\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 12\n          }, this);\n\n        case 'file':\n          return /*#__PURE__*/_jsxDEV(Flex, {\n            alignItems: \"center\",\n            className: \"msg-file\",\n            children: [/*#__PURE__*/_jsxDEV(FileOutlined, {\n              className: \"font-size-md\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 78,\n              columnNumber: 6\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"ml-2 font-weight-semibold text-link pointer\",\n              children: /*#__PURE__*/_jsxDEV(\"u\", {\n                children: obj.text\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 80,\n                columnNumber: 7\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 79,\n              columnNumber: 6\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 5\n          }, this);\n\n        default:\n          return null;\n      }\n    };\n\n    this.scrollToBottom = () => {\n      this.chatBodyRef.current.scrollToBottom();\n    };\n\n    this.onSend = values => {\n      if (values.newMsg) {\n        const newMsgData = {\n          avatar: \"\",\n          from: \"me\",\n          msgType: \"text\",\n          text: values.newMsg,\n          time: \"\"\n        };\n        this.formRef.current.setFieldsValue({\n          newMsg: ''\n        });\n        this.setState({\n          msgList: [...this.state.msgList, newMsgData]\n        });\n      }\n    };\n\n    this.emptyClick = e => {\n      e.preventDefault();\n    };\n\n    this.chatContentHeader = name => /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"chat-content-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n        className: \"mb-0\",\n        children: name\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 4\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(EllipsisDropdown, {\n          menu: menu\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 5\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 4\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 3\n    }, this);\n\n    this.chatContentBody = (props, id) => /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"chat-content-body\",\n      children: /*#__PURE__*/_jsxDEV(Scrollbars, {\n        ref: this.chatBodyRef,\n        autoHide: true,\n        children: props.map((elm, i) => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `msg ${elm.msgType === 'date' ? 'datetime' : ''} ${elm.from === 'opposite' ? 'msg-recipient' : elm.from === 'me' ? 'msg-sent' : ''}`,\n          children: [elm.avatar ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mr-2\",\n            children: /*#__PURE__*/_jsxDEV(Avatar, {\n              src: elm.avatar\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 136,\n              columnNumber: 10\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 135,\n            columnNumber: 9\n          }, this) : null, elm.text ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `bubble ${!elm.avatar ? 'ml-5' : ''}`,\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bubble-wrapper\",\n              children: this.getMsgType(elm)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 144,\n              columnNumber: 10\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 143,\n            columnNumber: 9\n          }, this) : null, elm.msgType === 'date' ? /*#__PURE__*/_jsxDEV(Divider, {\n            children: elm.time\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 153,\n            columnNumber: 9\n          }, this) : null]\n        }, `msg-${id}-${i}`, true, {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 7\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 4\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 3\n    }, this);\n\n    this.chatContentFooter = () => /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"chat-content-footer\",\n      children: /*#__PURE__*/_jsxDEV(Form, {\n        name: \"msgInput\",\n        ref: this.formRef,\n        onFinish: this.onSend,\n        className: \"w-100\",\n        children: /*#__PURE__*/_jsxDEV(Form.Item, {\n          name: \"newMsg\",\n          className: \"mb-0\",\n          children: /*#__PURE__*/_jsxDEV(Input, {\n            autoComplete: \"off\",\n            placeholder: \"Type a message...\",\n            suffix: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"d-flex align-items-center\",\n              children: [/*#__PURE__*/_jsxDEV(\"a\", {\n                href: \"/#\",\n                className: \"text-dark font-size-lg mr-3\",\n                onClick: this.emptyClick,\n                children: /*#__PURE__*/_jsxDEV(SmileOutlined, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 174,\n                  columnNumber: 10\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 173,\n                columnNumber: 9\n              }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n                href: \"/#\",\n                className: \"text-dark font-size-lg mr-3\",\n                onClick: this.emptyClick,\n                children: /*#__PURE__*/_jsxDEV(PaperClipOutlined, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 177,\n                  columnNumber: 10\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 176,\n                columnNumber: 9\n              }, this), /*#__PURE__*/_jsxDEV(Button, {\n                shape: \"circle\",\n                type: \"primary\",\n                size: \"small\",\n                onClick: this.onSend,\n                htmlType: \"submit\",\n                children: /*#__PURE__*/_jsxDEV(SendOutlined, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 180,\n                  columnNumber: 10\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 179,\n                columnNumber: 9\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 172,\n              columnNumber: 8\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 168,\n            columnNumber: 6\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 167,\n          columnNumber: 5\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 4\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 3\n    }, this);\n  }\n\n  componentDidMount() {\n    this.getConversation(this.getUserId());\n  }\n\n  componentDidUpdate(prevProps) {\n    if (this.props.location.pathname !== prevProps.location.pathname) {\n      this.getConversation(this.getUserId());\n    }\n\n    this.scrollToBottom();\n  }\n\n  getUserId() {\n    const {\n      id\n    } = this.props.match.params;\n    return parseInt(parseInt(id));\n  }\n\n  render() {\n    const {\n      id\n    } = this.props.match.params;\n    const {\n      info,\n      msgList\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"chat-content\",\n      children: [this.chatContentHeader(info.name), this.chatContentBody(msgList, id), this.chatContentFooter()]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 195,\n      columnNumber: 4\n    }, this);\n  }\n\n}\nexport default Conversation;","map":{"version":3,"sources":["/home/mathews/Reesby/React/NewMalihUI/emilusAntTheme-main/Emilus - React Admin Template/demo/src/views/app-views/apps/chat/Conversation.js"],"names":["React","ChatData","Avatar","Divider","Input","Form","Button","Menu","FileOutlined","SendOutlined","PaperClipOutlined","SmileOutlined","AudioMutedOutlined","UserOutlined","DeleteOutlined","Scrollbars","Flex","EllipsisDropdown","menu","Conversation","Component","formRef","createRef","chatBodyRef","state","info","msgList","getConversation","currentId","data","filter","elm","id","setState","msg","getMsgType","obj","msgType","text","scrollToBottom","current","onSend","values","newMsg","newMsgData","avatar","from","time","setFieldsValue","emptyClick","e","preventDefault","chatContentHeader","name","chatContentBody","props","map","i","chatContentFooter","componentDidMount","getUserId","componentDidUpdate","prevProps","location","pathname","match","params","parseInt","render"],"mappings":"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","sourcesContent":["import React from 'react'\r\nimport ChatData from \"assets/data/chat.data.json\"\r\nimport { Avatar, Divider, Input, Form, Button, Menu } from 'antd';\r\nimport { \r\n\tFileOutlined, \r\n\tSendOutlined, \r\n\tPaperClipOutlined, \r\n\tSmileOutlined, \r\n\tAudioMutedOutlined,\r\n\tUserOutlined,\r\n\tDeleteOutlined\r\n} from '@ant-design/icons';\r\nimport { Scrollbars } from 'react-custom-scrollbars';\r\nimport Flex from 'components/shared-components/Flex';\r\nimport EllipsisDropdown from 'components/shared-components/EllipsisDropdown'\r\n\r\nconst\tmenu = () => (\r\n\t<Menu>\r\n\t\t<Menu.Item key=\"0\">\r\n\t\t\t<UserOutlined />\r\n\t\t\t<span>User Info</span>\r\n\t\t</Menu.Item>\r\n\t\t<Menu.Item key=\"1\">\r\n\t\t\t<AudioMutedOutlined />\r\n\t\t\t<span>Mute Chat</span>\r\n\t\t</Menu.Item>\r\n\t\t<Menu.Divider />\r\n\t\t<Menu.Item key=\"3\">\r\n\t\t\t<DeleteOutlined />\r\n\t\t\t<span>Delete Chat</span>\r\n\t\t</Menu.Item>\r\n\t</Menu>\r\n);\r\n\r\nexport class Conversation extends React.Component {\r\n\tformRef = React.createRef();\r\n\tchatBodyRef = React.createRef()\r\n\r\n\tstate = {\r\n\t\tinfo: {},\r\n\t\tmsgList: [],\r\n\t}\r\n\t\r\n\tcomponentDidMount() {\r\n\t\tthis.getConversation(this.getUserId())\r\n\t}\r\n\r\n\tcomponentDidUpdate(prevProps) {\r\n\t\tif (this.props.location.pathname !== prevProps.location.pathname) {\r\n\t\t\tthis.getConversation(this.getUserId())\t\t\t\r\n\t\t}\r\n\t\tthis.scrollToBottom()\r\n\t}\r\n\t\r\n\tgetUserId() {\r\n\t\tconst { id } = this.props.match.params\r\n\t\treturn parseInt(parseInt(id))\r\n\t}\r\n\t\r\n\r\n\tgetConversation = currentId => {\r\n\t\tconst data = ChatData.filter(elm => elm.id === currentId)\r\n\t\tthis.setState({\r\n\t\t\tinfo: data[0],\r\n\t\t\tmsgList: data[0].msg\r\n\t\t})\t\r\n\t}\r\n\r\n\tgetMsgType = obj => {\r\n\t\tswitch (obj.msgType) {\r\n\t\t\tcase 'text':\r\n\t\t\t\treturn <span>{obj.text}</span>\r\n\t\t\tcase 'image':\r\n\t\t\t\treturn <img src={obj.text} alt={obj.text} />\r\n\t\t\tcase 'file':\r\n\t\t\t\treturn (\r\n\t\t\t\t<Flex alignItems=\"center\" className=\"msg-file\">\r\n\t\t\t\t\t<FileOutlined className=\"font-size-md\"/>\r\n\t\t\t\t\t<span className=\"ml-2 font-weight-semibold text-link pointer\">\r\n\t\t\t\t\t\t<u>{obj.text}</u>\r\n\t\t\t\t\t</span>\r\n\t\t\t\t</Flex>\r\n\t\t\t\t)\r\n\t\t\tdefault:\r\n\t\t\t\treturn null;\r\n\t\t}\r\n\t}\r\n\r\n\tscrollToBottom = () => {\r\n\t\tthis.chatBodyRef.current.scrollToBottom()\r\n\t}\r\n\r\n\tonSend = values => {\r\n\t\tif (values.newMsg) {\r\n\t\t\tconst newMsgData = {\r\n\t\t\t\tavatar: \"\",\r\n\t\t\t\tfrom: \"me\",\r\n\t\t\t\tmsgType: \"text\",\r\n\t\t\t\ttext: values.newMsg,\r\n\t\t\t\ttime: \"\",\r\n\t\t\t}\r\n\t\t\tthis.formRef.current.setFieldsValue({\r\n\t\t\t\tnewMsg: ''\r\n\t\t\t});\r\n\t\t\tthis.setState({\r\n\t\t\t\tmsgList: [...this.state.msgList, newMsgData]\r\n\t\t\t})\r\n\t\t}\r\n\t};\r\n\t\r\n\temptyClick = (e) => {\r\n    e.preventDefault();\r\n\t};\r\n\t\r\n\tchatContentHeader = name => (\r\n\t\t<div className=\"chat-content-header\">\r\n\t\t\t<h4 className=\"mb-0\">{name}</h4>\r\n\t\t\t<div>\r\n\t\t\t\t<EllipsisDropdown menu={menu}/>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t)\r\n\r\n\tchatContentBody = (props, id) => (\r\n\t\t<div className=\"chat-content-body\">\r\n\t\t\t<Scrollbars ref={this.chatBodyRef} autoHide>\r\n\t\t\t\t{\r\n\t\t\t\t\tprops.map((elm, i) => (\r\n\t\t\t\t\t\t<div \r\n\t\t\t\t\t\t\tkey={`msg-${id}-${i}`} \r\n\t\t\t\t\t\t\tclassName={`msg ${elm.msgType === 'date'? 'datetime' : ''} ${elm.from === 'opposite'? 'msg-recipient' : elm.from === 'me'? 'msg-sent' : ''}`}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\telm.avatar? \r\n\t\t\t\t\t\t\t\t<div className=\"mr-2\">\r\n\t\t\t\t\t\t\t\t\t<Avatar src={elm.avatar} />\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t:\r\n\t\t\t\t\t\t\t\tnull\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\telm.text?\r\n\t\t\t\t\t\t\t\t<div className={`bubble ${!elm.avatar? 'ml-5' : ''}`}>\r\n\t\t\t\t\t\t\t\t\t<div className=\"bubble-wrapper\">\r\n\t\t\t\t\t\t\t\t\t\t{this.getMsgType(elm)}\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t:\r\n\t\t\t\t\t\t\t\tnull\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\telm.msgType === 'date'?\r\n\t\t\t\t\t\t\t\t<Divider>{elm.time}</Divider>\r\n\t\t\t\t\t\t\t\t: \r\n\t\t\t\t\t\t\t\tnull\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t))\r\n\t\t\t\t}\r\n\t\t\t</Scrollbars>\r\n\t\t</div>\r\n\t)\r\n\r\n\tchatContentFooter = () => (\r\n\t\t<div className=\"chat-content-footer\">\r\n\t\t\t<Form name=\"msgInput\" ref={this.formRef} onFinish={this.onSend} className=\"w-100\">\r\n\t\t\t\t<Form.Item name=\"newMsg\" className=\"mb-0\">\r\n\t\t\t\t\t<Input \r\n\t\t\t\t\t\tautoComplete=\"off\" \r\n\t\t\t\t\t\tplaceholder=\"Type a message...\"\r\n\t\t\t\t\t\tsuffix={\r\n\t\t\t\t\t\t\t<div className=\"d-flex align-items-center\">\r\n\t\t\t\t\t\t\t\t<a href=\"/#\"  className=\"text-dark font-size-lg mr-3\" onClick={this.emptyClick}>\r\n\t\t\t\t\t\t\t\t\t<SmileOutlined />\r\n\t\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t\t\t<a href=\"/#\" className=\"text-dark font-size-lg mr-3\" onClick={this.emptyClick}>\r\n\t\t\t\t\t\t\t\t\t<PaperClipOutlined />\r\n\t\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t\t\t<Button shape=\"circle\" type=\"primary\" size=\"small\" onClick={this.onSend} htmlType=\"submit\">\r\n\t\t\t\t\t\t\t\t\t<SendOutlined />\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Form.Item>\r\n\t\t\t</Form>\r\n\t\t</div>\r\n\t)\r\n\r\n\r\n\trender() {\r\n\t\tconst { id } = this.props.match.params\r\n\t\tconst { info, msgList } = this.state\r\n\t\treturn (\r\n\t\t\t<div className=\"chat-content\">\r\n\t\t\t\t{this.chatContentHeader(info.name)}\r\n\t\t\t\t{this.chatContentBody(msgList, id)}\r\n\t\t\t\t{this.chatContentFooter()}\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\n\r\nexport default Conversation\r\n"]},"metadata":{},"sourceType":"module"}